{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\front-end\\\\2021\\\\education_react_redux\\\\react-kabzda-1\\\\src\\\\components\\\\Users\\\\UsersContainer.jsx\";\nimport React from 'react';\nimport * as axios from 'axios';\nimport Users from './Users';\nimport PreloaderCSS from '../common/Preloader/PreloaderCSS';\nimport { connect } from 'react-redux';\nimport { followActionCreator, unFollowActionCreator, setUsersActionCreator, setCurrentPageAC, setTotalUsersCountAC, setIsFetchingAC } from '../../redux/users_reducer';\n\nclass UsersContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = () => {\n      this.props.setIsFetching(true);\n      axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`).then(response => {\n        this.props.setUsers(response.data.items);\n        this.props.setTotalUsersCount(response.data.totalCount);\n        this.props.setIsFetching(false);\n      });\n    };\n\n    this.onPageChanged = pageNumber => {\n      this.props.setIsFetching(true);\n      this.props.setCurrentPage(pageNumber);\n      axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${this.props.pageSize}`).then(response => {\n        this.props.setUsers(response.data.items);\n        this.props.setIsFetching(false);\n      });\n    };\n\n    this.render = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [this.props.isFetching ? /*#__PURE__*/_jsxDEV(PreloaderCSS, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 30\n        }, this) : null, /*#__PURE__*/_jsxDEV(Users, {\n          totalUsersCount: this.props.totalUsersCount,\n          pageSize: this.props.pageSize,\n          currentPage: this.props.currentPage,\n          onPageChanged: this.onPageChanged,\n          users: this.props.users,\n          unFollow: this.props.unFollow,\n          follow: this.props.follow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 4\n      }, this);\n    };\n  }\n\n}\n\nlet mapStateToProps = state => {\n  return {\n    users: state.usersPage.users,\n    pageSize: state.usersPage.pageSize,\n    totalUsersCount: state.usersPage.totalUsersCount,\n    currentPage: state.usersPage.currentPage,\n    isFetching: state.usersPage.isFetching\n  };\n};\n\nlet mapDispatchToProps = dispatch => {\n  return {\n    follow: userId => {\n      dispatch(followActionCreator(userId));\n    },\n    unFollow: userId => {\n      dispatch(unFollowActionCreator(userId));\n    },\n    setUsers: users => {\n      dispatch(setUsersActionCreator(users));\n    },\n    setCurrentPage: pageNumber => {\n      dispatch(setCurrentPageAC(pageNumber));\n    },\n    setTotalUsersCount: totalCount => {\n      dispatch(setTotalUsersCountAC(totalCount));\n    },\n    setIsFetching: isFetching => {\n      dispatch(setIsFetchingAC(isFetching));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);","map":{"version":3,"sources":["D:/front-end/2021/education_react_redux/react-kabzda-1/src/components/Users/UsersContainer.jsx"],"names":["React","axios","Users","PreloaderCSS","connect","followActionCreator","unFollowActionCreator","setUsersActionCreator","setCurrentPageAC","setTotalUsersCountAC","setIsFetchingAC","UsersContainer","Component","componentDidMount","props","setIsFetching","get","currentPage","pageSize","then","response","setUsers","data","items","setTotalUsersCount","totalCount","onPageChanged","pageNumber","setCurrentPage","render","isFetching","totalUsersCount","users","unFollow","follow","mapStateToProps","state","usersPage","mapDispatchToProps","dispatch","userId"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport * as axios from 'axios'\r\nimport Users from './Users'\r\nimport PreloaderCSS from '../common/Preloader/PreloaderCSS'\r\nimport { connect } from 'react-redux'\r\nimport { followActionCreator, unFollowActionCreator, setUsersActionCreator, setCurrentPageAC, setTotalUsersCountAC, setIsFetchingAC } from '../../redux/users_reducer'\r\n\r\nclass UsersContainer extends React.Component {\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.setIsFetching(true)\r\n\t\taxios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\tthis.props.setUsers(response.data.items)\r\n\t\t\t\tthis.props.setTotalUsersCount(response.data.totalCount)\r\n\t\t\t\tthis.props.setIsFetching(false)\r\n\t\t\t})\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tthis.props.setIsFetching(true)\r\n\t\tthis.props.setCurrentPage(pageNumber)\r\n\t\taxios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${this.props.pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\tthis.props.setUsers(response.data.items)\r\n\t\t\t\tthis.props.setIsFetching(false)\r\n\t\t\t})\r\n\t}\r\n\r\n\trender = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.props.isFetching ? <PreloaderCSS /> : null}\r\n\t\t\t\t<Users totalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\t\tonPageChanged={this.onPageChanged}\r\n\t\t\t\t\tusers={this.props.users}\r\n\t\t\t\t\tunFollow={this.props.unFollow}\r\n\t\t\t\t\tfollow={this.props.follow} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: state.usersPage.users,\r\n\t\tpageSize: state.usersPage.pageSize,\r\n\t\ttotalUsersCount: state.usersPage.totalUsersCount,\r\n\t\tcurrentPage: state.usersPage.currentPage,\r\n\t\tisFetching: state.usersPage.isFetching,\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tfollow: (userId) => { dispatch(followActionCreator(userId)) },\r\n\t\tunFollow: (userId) => { dispatch(unFollowActionCreator(userId)) },\r\n\t\tsetUsers: (users) => { dispatch(setUsersActionCreator(users)) },\r\n\t\tsetCurrentPage: (pageNumber) => { dispatch(setCurrentPageAC(pageNumber)) },\r\n\t\tsetTotalUsersCount: (totalCount) => { dispatch(setTotalUsersCountAC(totalCount)) },\r\n\t\tsetIsFetching: (isFetching) => { dispatch(setIsFetchingAC(isFetching)) },\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);"]},"metadata":{},"sourceType":"module"}