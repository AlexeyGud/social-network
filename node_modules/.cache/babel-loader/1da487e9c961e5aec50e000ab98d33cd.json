{"ast":null,"code":"const ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst ADD_NEW_MESSAGE = 'ADD-NEW-MESSAGE';\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\nlet store = {\n  _state: {\n    dialogsPage: {\n      dialogs: [{\n        id: 1,\n        name: 'Dimych'\n      }, {\n        id: 2,\n        name: 'Andrey'\n      }, {\n        id: 3,\n        name: 'Sveta'\n      }, {\n        id: 4,\n        name: 'Sasha'\n      }, {\n        id: 5,\n        name: 'Victor'\n      }, {\n        id: 6,\n        name: 'Valera'\n      }],\n      messages: [{\n        id: 1,\n        message: 'Hi'\n      }, {\n        id: 2,\n        message: 'How is your IT-Kamasutra?'\n      }, {\n        id: 3,\n        message: 'Yo'\n      }, {\n        id: 4,\n        message: 'Yo-Yo'\n      }, {\n        id: 5,\n        message: 'Let\\'s go!'\n      }, {\n        id: 6,\n        message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Enim, fugit.'\n      }],\n      newMessageText: 'ti champion reacta'\n    },\n    profilePage: {\n      posts: [{\n        id: 1,\n        message: 'Hi, how are you?',\n        likesCount: 5\n      }, {\n        id: 2,\n        message: 'It\\'s my first post',\n        likesCount: 12\n      }],\n      newPostText: 'it-kamasutra.com'\n    },\n    sidebar: {\n      friends: [{\n        id: 1,\n        name: 'Dimych'\n      }, {\n        id: 2,\n        name: 'Andrey'\n      }, {\n        id: 3,\n        name: 'Sveta'\n      }]\n    }\n  },\n\n  _callSubscriber() {\n    console.log('state changed');\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n\n  dispatch(action) {\n    // Profile ================================================\n    if (action.type === ADD_POST) {\n      let newPost = {\n        id: 5,\n        message: this._state.profilePage.newPostText,\n        likesCount: 0\n      };\n\n      this._state.profilePage.posts.push(newPost);\n\n      this._state.profilePage.newPostText = '';\n\n      this._callSubscriber(this.getState());\n    } else if (action.type === UPDATE_NEW_POST_TEXT) {\n      this._state.profilePage.newPostText = action.newText;\n\n      this._callSubscriber(this.getState());\n    } // Dialogs ==============================================\n    else if (action.type === ADD_NEW_MESSAGE) {\n        let newMessage = {\n          id: 7,\n          message: this._state.dialogsPage.newMessageText\n        };\n\n        this._state.dialogsPage.messages.push(newMessage);\n\n        this._state.dialogsPage.newMessageText = '';\n\n        this._callSubscriber(this.getState());\n      } else if (action.type === UPDATE_NEW_MESSAGE_TEXT) {\n        this._state.dialogsPage.newMessageText = action.newText;\n\n        this._callSubscriber(this.getState());\n      }\n  }\n\n};\nexport const addPostActionCreator = () => {\n  return {\n    type: ADD_POST\n  };\n};\nexport const updateNewPostTextActionCreator = text => {\n  return {\n    type: UPDATE_NEW_POST_TEXT,\n    newText: text\n  };\n};\nexport const addNewMessageActionCreator = () => {\n  return {\n    type: ADD_NEW_MESSAGE\n  };\n};\nexport const updateNewMessageTextActionCreator = text => {\n  return {\n    type: UPDATE_NEW_MESSAGE_TEXT,\n    newText: text\n  };\n};\nwindow.store = store;\nexport default store;","map":{"version":3,"sources":["D:/front-end/2020/education_react_redux/projects/01-first-project/react-kabzda-1/src/redux/state.js"],"names":["ADD_POST","UPDATE_NEW_POST_TEXT","ADD_NEW_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","store","_state","dialogsPage","dialogs","id","name","messages","message","newMessageText","profilePage","posts","likesCount","newPostText","sidebar","friends","_callSubscriber","console","log","getState","subscribe","observer","dispatch","action","type","newPost","push","newText","newMessage","addPostActionCreator","updateNewPostTextActionCreator","text","addNewMessageActionCreator","updateNewMessageTextActionCreator","window"],"mappings":"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","sourcesContent":["const ADD_POST = 'ADD-POST'\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\n\r\nconst ADD_NEW_MESSAGE = 'ADD-NEW-MESSAGE'\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT'\r\n\r\nlet store = {\r\n\t_state: {\r\n\t\tdialogsPage: {\r\n\t\t\tdialogs: [\r\n\t\t\t\t{ id: 1, name: 'Dimych' },\r\n\t\t\t\t{ id: 2, name: 'Andrey' },\r\n\t\t\t\t{ id: 3, name: 'Sveta' },\r\n\t\t\t\t{ id: 4, name: 'Sasha' },\r\n\t\t\t\t{ id: 5, name: 'Victor' },\r\n\t\t\t\t{ id: 6, name: 'Valera' },\r\n\t\t\t],\r\n\t\t\tmessages: [\r\n\t\t\t\t{ id: 1, message: 'Hi' },\r\n\t\t\t\t{ id: 2, message: 'How is your IT-Kamasutra?' },\r\n\t\t\t\t{ id: 3, message: 'Yo' },\r\n\t\t\t\t{ id: 4, message: 'Yo-Yo' },\r\n\t\t\t\t{ id: 5, message: 'Let\\'s go!' },\r\n\t\t\t\t{ id: 6, message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Enim, fugit.' },\r\n\t\t\t],\r\n\t\t\tnewMessageText: 'ti champion reacta'\r\n\t\t},\r\n\t\tprofilePage: {\r\n\t\t\tposts: [\r\n\t\t\t\t{ id: 1, message: 'Hi, how are you?', likesCount: 5 },\r\n\t\t\t\t{ id: 2, message: 'It\\'s my first post', likesCount: 12 },\r\n\t\t\t],\r\n\t\t\tnewPostText: 'it-kamasutra.com'\r\n\t\t},\r\n\t\tsidebar: {\r\n\t\t\tfriends: [\r\n\t\t\t\t{ id: 1, name: 'Dimych' },\r\n\t\t\t\t{ id: 2, name: 'Andrey' },\r\n\t\t\t\t{ id: 3, name: 'Sveta' },\r\n\t\t\t]\r\n\t\t}\r\n\t},\r\n\t_callSubscriber() {\r\n\t\tconsole.log('state changed')\r\n\t},\r\n\tgetState() {\r\n\t\treturn this._state\r\n\t},\r\n\tsubscribe(observer) {\r\n\t\tthis._callSubscriber = observer\r\n\t},\r\n\tdispatch(action) {\r\n\t\t// Profile ================================================\r\n\t\tif (action.type === ADD_POST) {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage: this._state.profilePage.newPostText,\r\n\t\t\t\tlikesCount: 0,\r\n\t\t\t};\r\n\t\t\tthis._state.profilePage.posts.push(newPost);\r\n\t\t\tthis._state.profilePage.newPostText = '';\r\n\t\t\tthis._callSubscriber(this.getState());\r\n\t\t} else if (action.type === UPDATE_NEW_POST_TEXT) {\r\n\t\t\tthis._state.profilePage.newPostText = action.newText;\r\n\t\t\tthis._callSubscriber(this.getState());\r\n\t\t} // Dialogs ==============================================\r\n\t\telse if (action.type === ADD_NEW_MESSAGE) {\r\n\t\t\tlet newMessage = {\r\n\t\t\t\tid: 7,\r\n\t\t\t\tmessage: this._state.dialogsPage.newMessageText,\r\n\t\t\t};\r\n\t\t\tthis._state.dialogsPage.messages.push(newMessage);\r\n\t\t\tthis._state.dialogsPage.newMessageText = '';\r\n\t\t\tthis._callSubscriber(this.getState());\r\n\t\t} else if (action.type === UPDATE_NEW_MESSAGE_TEXT) {\r\n\t\t\tthis._state.dialogsPage.newMessageText = action.newText;\r\n\t\t\tthis._callSubscriber(this.getState());\r\n\t\t}\r\n\t}\r\n}\r\nexport const addPostActionCreator = () => {\r\n\treturn { type: ADD_POST }\r\n}\r\n\r\nexport const updateNewPostTextActionCreator = (text) => {\r\n\treturn {\r\n\t\ttype: UPDATE_NEW_POST_TEXT, newText: text\r\n\t}\r\n}\r\nexport const addNewMessageActionCreator = () => {\r\n\treturn { type: ADD_NEW_MESSAGE }\r\n}\r\n\r\nexport const updateNewMessageTextActionCreator = (text) => {\r\n\treturn {\r\n\t\ttype: UPDATE_NEW_MESSAGE_TEXT, newText: text\r\n\t}\r\n}\r\n\r\nwindow.store = store;\r\n\r\nexport default store;"]},"metadata":{},"sourceType":"module"}